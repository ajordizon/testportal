
{% extends 'navbarlayout.html' %}
{% block title %}Scenarios{% endblock %}

{% block content %}
<head>
    <!-- LINKS CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <meta charset="UTF-8">

    <style>

        .bgimg{
            background-image: url("../static/pageheader-default.jpg");
            background-position: 0% 24%;
            height:300px;
            background-size:cover;
            background-size: 100%;
            background-repeat:no-repeat;
        }


/* TEKST */
        .header{
            color: #EA650D;
            font-weight:bold;
            font-size:24px;
        }

        .header-title{
            color: #EA650D;
            font-weight:bold;
            font-size:20px;

        }
        .column-blocks{
            background-color:#f1edeb;
            min-height:250px;
            border:0px;
            padding:7px;

        }
        .textblok{
            font-size:14px;
        }
        .padding-0{
        padding-left:0px;
        }

/* BUTTONS */
        .button {
        background-color: #EA650D; /* Orange */
        border: none;
        border-radius: 4px;
        color: white;
        padding: 14px;
        text-align: left;
        text-decoration: none;
        font-size: 14px;
        font-weight: bold;
        margin: 8px;
        cursor: pointer;
        width: 100%;
        }
        .button2{position:center;margin:auto;margin-bottom:0%;}
        .button3{ width:auto;padding:6px;text-align:center;}
        .button4{
                    background:none;
                    border:none;
                    margin:0;
                    padding:0;
                    cursor: pointer;
                }/* Button die alleen text weergeeft

    /* Style the tab */
    .tab {
      overflow: hidden;
      background-color: #f1f1f1;
    }

    /* Style the buttons inside the tab */
    .tab button {
      background-color: inherit;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      transition: 0.3s;
      font-size: 17px;
    }

    /* Change background color of buttons on hover */
    .tab button:hover {
      background-color: #ddd;
    }

    /* Create an active/current tablink class */
    .tab button.active {
      background-color: #ccc;
    }

    /* Style the tab content */
    .tabcontent {
      display: none;
      padding: 6px 12px;

      border-top: none;
    }

/* TABLES */
        table#example {
        border-collapse: collapse;
        width: 100%;
        }
        #example tr {
        background-color: #eee;

        }
        #example tr:hover {
        background-color: #ccc;
        }
        #example th {
        background-color: #fff;
        font-size:14px;
        font-weight: normal;
        }
        #example th, #example td {
        padding: 3px 5px;
        }
        #example td:hover {
        cursor: pointer;
        }
        #example .active{
           background-color: #ccc;
        }

/* MODAL WINDOW */
        .modal-window {
          display: none; /* Hidden by default */
          position: fixed; /* Stay in place */
          z-index: 1; /* Sit on top */
          top: 0px;
          left:0px;
          width: 100%; /* Full width */
          height: 100%; /* Full height */
          overflow: auto; /* Enable scroll if needed */
          background-color: rgb(0,0,0); /* Fallback color */
          background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }
        .modal-content {
          top: -120px; /* Positie modal window */
          left: 0px;
          background-color: #fefefe;
          margin: 15% auto; /* 15% from the top and centered */
          padding: 30px;
          padding-top:20px;
          border: none;
          -webkit-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);
          -moz-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);
          box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);
          -webkit-background-clip: padding-box;
          -moz-background-clip: padding-box;
          background-clip: padding-box;
          width: 50%; /* Could be more or less, depending on screen size */
        }
        /* Buttons */
        .close {
          color: #EA650D;
          float: right;
          font-size: 28px;
          font-weight: bold;
        }

        .close:hover,
        .close:focus {
          color: black;
          text-decoration: none;
          cursor: pointer;
        }
        .chart {
          background: white;
          width: 500px;
          height: 100px;
          border-left: 1px dotted #555;
          border-bottom: 1px dotted #555;
          padding: 20px 20px 20px 0;
        }
        .padding-0{
    padding-right:0;
    padding-left:0;
}

/* ---------------------- */

/* FORM ELEMENTS */
        .customSlct{
            width:50%
            height:100%;
        }

        mcanvas{
            background-color: #fff;
        }
        graph .labels.x-labels {
        text-anchor: middle;
        }

        .graph .labels.y-labels {
          text-anchor: end;
        }


        .graph {
          height: 500px;
          width: 800px;
        }

        .graph .grid {
          stroke: #ccc;
          stroke-dasharray: 0;
          stroke-width: 1;
        }

        .labels {
          font-size: 13px;
        }

        .label-title {
          font-weight: bold;
          text-transform: uppercase;
          font-size: 12px;
          fill: black;
        }

        .data {
          fill: red;
          stroke-width: 1;
        }
    </style>
</head>

<body>

<!-- The Modal -->
    <div id="dataModal" class="modal-window">
        <!-- Modal content -->
        <div class="modal-content">
            <form action="{{ url_for('scenariostest') }} " method="post">
                <span class="close dataModal">&times;</span>
                <h3 class="mb-0 header">Scenario:</h3><br>
                <div class="row">
                    <div class="col-xs-6 form-group">
                        Current situation:<br><br>
                        <b>I want to retire from:</b><br>
                        <select name="pension_year"style="width:50%;height:40%"class="form-control years" id="pens_years">
                        </select>
                        years
                    </div>
                    <div class="col-xs-6 form-group">
                        I will retire from: {{session['leeftijd_pensioen_jaar']|safe}} years and {{session['leeftijd_pensioen_maand']|safe}} months<br><br><br>
                        <select name="pension_months" style="width:50%;height:40%" class="form-control months" id="pens_months">
                        </select>
                        months
                    </div>
                    <div class="col-md-12"><br><br>
                        <input class="button" type="button" onclick="AddData()" value=" Add ">
                    </div>
                </div>
            </form>
        </div>
    </div>

 <!------------------------------->

             <!-- The Modal -->

            <div id="viewModal" class="modal-window">

            <!-- Modal content -->
            <div class="modal-content">
            <form>
                  <span class="close 2">&times;</span>
                <h3 class="mb-0 header">Scenario</h3><br>
                Click on the section you wish to view.<br>
                <select class="customSlct" name="scenarios_made">
                <option value="retirements">Retirement</option>
                <option value="retirements">0.00</option>
                </select>
            </form>
            </div>

            </div>

 <!------------------------------->
 <!--- COLUMNS -->
     <div class="container m-auto">

    </div>
        <div class="container-fluid">
          <header class="blog-header py-3">
          </header>

          <div class="jumbotron p-3 p-md-5 text-white rounded bg-dark bgimg">
            <div class="col-md-6 px-0">
              <h1 style=" color: #EA650D; font-size:50px">My Planner</h1>
            </div>
          </div>
        <div class="nav-scroller py-1 mb-2">
            <nav class="nav d-flex justify-content-left">
              <a style="color:black"class="p-2 text-muted" href="#">Individual </a>
              <a class="p-2 text-muted" href="#">Pension </a>
              <a class="p-2 text-muted" href="/investment">My Planner</a>
            </nav>
          </div>

          <div class="row mb-2">
            <!-- column 1 -->
              <div class="col-md-12">
              <div style="background-color:#f1edeb; border:0px;padding:10px;"class="card flex-md-row mb-4 shadow-sm h-md-250 ">
                <div class="card-body d-flex flex-column align-items-start">
                  <p class="card-text mb-auto textblok">Here you will find a list of the scenarios you have created. You can view, adjust or discard these scenarios by clicking on the icons. You can change the name of the scenario using the pencil next to the name. </p>
                </div>

            </div>
            </div>
            <!-- column 2 -->
            <div class="col-md-8">
            <div class="card flex- md-row mb-4 shadow-sm h-md-250 column-blocks">
                <div class="card-body d-flex flex-column align-items-start ">
                    <div class="tab">
                      <button class="tablinks" onclick="openCity(event, 'scenarios')">Scenarios</button>
                      <button class="tablinks" onclick="openCity(event, 'totalIncome')">Total Income Graph</button>
                      <button class="tablinks" onclick="openCity(event, 'netGraph')">Net Graph</button>
                    </div>
                <div id="scenarios" class="tabcontent scenarios"><br>
                    <button class="button4"id="btnData"><span class="glyphicon glyphicon-plus-sign" style="color:#EA650D"></span> Add scenario</button>
                    <div class="items"></div>
                     <table id="example" cellspacing="0px" cellpadding="5px" text-align="center">
                         <thead>
                        </thead>
                    <tbody> {{session['scenarios_overzicht']|safe}}</tbody>
                    </table></div>

                    <div id="totalIncome" class="tabcontent totalIncome">
                    <img src="../static/img/picture.svg">

                    </div>
                    <div id="netGraph" class="tabcontent netGraph">
                    <img src="../static/img/graphic2.svg">
                    </div>
                </div>
              </div>
            </div>
            <div class="col-md-4 padding-0">
                <div class="card flex- md-row mb-4 shadow-sm h-md-250 column-blocks">
                <div class="card-body d-flex flex-column align-items-start ">
                                    <div class="scenarios"><h3 style="font-size:40px;"class="mb-0 header">&euro;0.00</h3></div>
                    <div class="totalIncome"><h3 class="mb-0 header">Graph</h3><br>
                    In this graph you can see al your scenarios plotted against your current situation. </div>
                    <div class="netGraph"><h3 class="mb-0 header">Graph</h3><br>
                    In this graph you can see al your scenarios plotted against your current situation.</div>
                </div>
                </div>
                </div>
    <footer class="blog-footer">

    </footer>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" crossorigin="anonymous" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="../../assets/js/vendor/popper.min.js"></script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <script src="../../assets/js/vendor/holder.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>
    </script>

<!-- SCRIPT TABLE -->
    <script>
        $(document).ready(function() {

        $('#example').delegate("tr","click", function() {
            var href = $(this).find("a").attr("href");

            $(this).toggleClass('active').siblings().removeClass('active');

            if(href) {
                window.location = href;
            }
        });

     });
    </script>
<!-- SCRIPT SELECT OPTION -->
    <script>
 $(function(){
            var $select = $(".years");
            var count1 = 40;
            for (i=40;i<=80;i++){
                $select.append($('<option value=\"' + count1 + '\"></option>').val(i).html(i))
                count1 += 1;
            }
            var $select = $(".months");
            var count2 = 1;
            for (i=1;i<=12;i++){
                $select.append($('<option value=\"' + count2 + '\"></option>').val(i).html(i))
                count2 += 1;
            }
        });
    </script>
<!-- SCRIPT MODAL WINDOW -->
   <script>// Get the modal


        var modal = document.getElementById('dataModal');
        var btnData = document.getElementById('btnData');
        var spanData = document.getElementsByClassName("close dataModal")[0];

        btnData.onclick = function(event){
        dataModal.style.display = "block";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            if (event.target == modal) {
                dataModal.style.display = "none";
                }
            }
        spanData.onclick= function(event) {
            dataModal.style.display = "none";
        }

    </script>
    <script>
    openCity(event, "scenarios")
    function openCity(evt, cityName) {
      var i, tabcontent, tablinks;
      var text = "";

      $(".scenarios").show();
                $(".totalIncome").hide();
                $(".netGraph").hide();

      var cname = cityName;

        if(cname == "scenarios"){
              $(".scenarios").show();
                $(".totalIncome").hide();
                $(".netGraph").hide();
          }
          else if(cname == "totalIncome"){
              $(".scenarios").hide();
                $(".totalIncome").show();
                $(".netGraph").hide();
          }
          else if(cname == "netGraph"){
              $(".scenarios").hide();
                $(".totalIncome").hide();
                $(".netGraph").show();
          }
        }


    </script>
    <script>$(function(){

        $('#trigger').click(function(){
         modal.style.display = "block";
        })

        });
</script>
<!--- SCRIPT CHARTS -->
<script></script>
    <!--- AD DATA -->
    <script>
        var count = 1;
        function AddData() {
        var modal = document.getElementById('dataModal');
        modal.style.display = "none";
        var rows = "";
        var years = document.getElementById("pens_years").value;
        var months = document.getElementById("pens_months").value;
        var maandtext = "";
        var items = "hello";

        if (months<= 1){
            maandtext = "maand"
        }
        else{
            maandtext = "maanden"
        }
        rows += "<tr><td>" + "<h3 class=\"mb-0 header\">Scenario " + count + "</h3><br>"
        + years + " jaar en " + months + " " + maandtext + "</td>" + "<td>" +
        "&emsp;&emsp;&emsp;&emsp;<button class=\"button button3\" onclick=\"deleteRow(this)\"><span class=\"glyphicon glyphicon-trash\"></span></button>" +
        "<button class=\"button button3\" id=\"myModal\" onclick=\"editRow(this)\"><span class=\"glyphicon glyphicon-edit\"></span></button>" +
        "<button class=\"button button3\" id=\"viewBtn\"onclick=\"viewRow(this)\"><span class=\"glyphicon glyphicon-eye-open\"></span></button>" + "</td></tr>";
        $(rows).appendTo("#example tbody");


        count += 1;
        return count;
        }

        function deleteRow(r) {
        var result = confirm("Are you sure you want to delete?");
        if(result){
        var i = r.parentNode.parentNode.rowIndex;
        document.getElementById("example").deleteRow(i);

        count -= 1;
        return count;
        }
        }

        function editRow(r) {
        var i = r.parentNode.parentNode.rowIndex;
        document.getElementById("example").editRow(i);

        count -= 1;
        return count;
        }
        function viewRow(r) {
        var modal2 = document.getElementById("viewModal")
        var btn = document.getElementById("viewBtn");
        var span = document.getElementsByClassName("close 2")[0];

        btn.onclick = function(){
            modal2.style.display="block";
        }
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
            modal2.style.display = "none";

        }
         window.onclick = function(event) {
            if (event.target == modal2) {
                modal2.style.display = "none";
                dataModal.style.display = "none";
                }
            }
        }
    </script>


    </div>

{% endblock %}

